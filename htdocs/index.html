<!DOCTYPE html>
<html lang="en">
<head>
 <title>NIMBY BINGO! The game that's sweeping your neighborhood meeting!</title>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <meta name="description" content="nimbingo, nimby bingo for Portland neighborhood association meetings">
  <meta name="author" content="twitter @tedder42">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link rel="icon" type="image/png" href="favicon.ico"> -->
  <script src="https://code.jquery.com/jquery-3.1.0.slim.min.js" integrity="sha256-cRpWjoSOw5KcyIOaZNo4i6fZ9tKPhYYb6i5T9RSVJG8=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="skeleton-plus.css">

  <!-- site verification(s) -->
  <meta name="google-site-verification" content="" />

  <style type="text/css">
  img.h100 { height: 10rem; max-width: auto }
  img.h200 { height: 20rem; max-width: auto }
  ul li { font-size: smaller; margin-top: 0.5rem; margin-bottom: 0; margin-left: 1.5rem }
  a { text-decoration: none }
  //div.row { margin-bottom: 1.5rem }
  .bingocard { border: 0; border-collapse: collapse; }
  .bingocard .bingorow { height: 14vw; background-color: #fff }
  .bingocard .bingocell { border: 0.4rem solid black; text-align: center; vertical-align: middle; width: 14vw; height: 14vw; padding: 0.4rem }
  .bingocell h2 { font-weight: 600; }
  .bingocell + .freesquare { background-color: #EEE; }
  #row0 .bingocell { background-color: #DDD; }
  input #newcard { color: #00f; }
  .newcard { vertical-align: bottom; }
  .newcard > #newcard { }
  span { font-size: 1.3rem; }
  </style>
  <script type="text/javascript">

var locals = {
  'portland': [
'Suggestion to put it in Gateway instead',
'becoming California',
'“Bungalows”',
'Biketown',
  ],
  'sanfrancisco': [
'Mission District',
'Suggestion to put it in SOMA instead',
  ]
};

var text = [
'I don’t know anyone who…',
'Nobody rides transit anyhow',
'The newcomers don’t have $CITY values',
'Can\'t live in THIS neighborhood without a car',
'That’s only for tourists',
'Back when people knew their neighbors',
'Meeting goes at least 1 hour over',
'“Think of the children”',
'“Neighborhood Character”',
'“Urban canopy”',
'“I need my car”',
'Density',
'Someone scoffs loudly or storms out',
'“I’ve lived in this neighborhood for (> 20 years)”',
'those neoliberals',
'hipsters',
'condos',
'gentrification',
'too big/ out of scale',
'only for the rich/ techies',
'100% of units should be affordable',
'wind tunnels',
'too much for our infrastructure (eg water/sewer)',
'it will block view/ sun',
'skinny houses',
'backdoor rezoning',
'Godwin\'s Law',
'we\'re not (city)',
'renters with several cars',
'Someone starts yelling',
'literal mention of their backyard',
'manhattanization',
'“Isn’t the right place to build affordable housing”',
'$CITY is getting too big',
'Has anyone researched this?',
'Someone starts crying',
'Construction noise/ dust/ toxins',
'Thinly veiled reference to age, millennials',
'The new construction is unattractive',
'New construction uses cheap materials',
'We already have too much traffic',
'Non-local property developers/ owners',
'Greedy developers',
'Overcrowded schools',
'Families can\'t live in apartments',
'Not everyone can bike',
'I don\'t have the time to take the bus',
'Airbnb',
'Losing our architectural history',
'Someone complains about renters',
'Citing Nextdoor as a reputable source',
'“I was never notified”',
'Someone complains about the homeless',
'Things are changing too fast',
'luxury housing',
'derogatory phrase for apartments (e.g. rabbit warrens)',
'cookie-cutter',
'suburban-style',
'corrupt politicians',
];

function generateCard() {
  //$("#msgid").html("This is Hello World by JQuery");
  var ourlist = text.slice(); // slice copies array
  var chosen_city = $("input[name=city]").val() || 'Portland';
  var chosen_city_normalized = chosen_city.toLowerCase().replace(/\s+/g, '');
  console.log("city: ", chosen_city, chosen_city_normalized);
  if (locals[chosen_city_normalized]) {
    locallist = locals[chosen_city_normalized].slice(); // again, copy
    ourlist = $.merge(ourlist, locallist);
    //console.log(ourlist);
  }

  //console.log("---", $(ourlist).length);
  $(".bingocell").each(function() {
    if ( $.inArray('bingohead', $(this).attr('class').split(' ')) == -1
     &&  $.inArray('freesquare', $(this).attr('class').split(' ')) == -1) {
      //console.log($(this).attr('class'));
      var i = Math.floor(Math.random()*ourlist.length);
      var itext = ourlist.splice(i, 1)[0];
      //console.log(i, $(ourlist).length, itext);
      //console.log("it", itext);
      $(this).html(itext.replace('$CITY', chosen_city));
    }
  });
}

function dump_phrases() {
  var phrases = '<br /><br /><p><b>please read through the following phrases before submitting new ones</b>, then <a href="https://twitter.com/tedder42">hit tedder up on twitter</a> with your generic or city-specific phrases. the nerds can also <a href="https://github.com/tedder/nimbingo/">fork and submit a pull request</a>.</p><pre>' + text.slice().join(',\n');
  $.each(locals, function(i,j) {
    phrases += '\n\n** ' + i + '\n  ' + j.join(',\n  ');
    console.log(i,j);
  });

  phrases += '<\/pre>';
  $('#phraselist').replaceWith(phrases);
}

function init() {
  generateCard();
  $("input[name=city]").val('Portland');
  $('input[name=city]').click(function() {
    $(this).val('');
  });
  $('#phraseclick').click(dump_phrases);
}

$(document).ready(init);

  </script>
</head>
<body>
<div class="container">
 <div class="row" style="margin-bottom: 2em">
  <div class="ten columns"><h2 style="margin: 0; padding: 0">nimbingo, nimby bingo!</h2>the fun game you can play at your neighborhood meeting. fill it in when you hear the term, or use them in conversation until you get bingo. blame <a href="https://twitter.com/adamherstein">adam</a> and <a href="https://twitter.com/tedder42">tedder</a> for this; <span id="phraselist"><a id="phraseclick">suggest new phrases/cities</a>.</span></div>
  <div class="two columns newcard">
<input list="cities" name="city">
<datalist id="cities">
  <option value="Portland">
  <option value="San Francisco">
</datalist>
<input id="newcard" type="button" value="generate new card" onClick="generateCard()"></div>
 </div> <!-- row -->
 <div class="row">
  <div class="twelve columns columns-sm bingocard">

 <table border=2 class="bingocard">
  <tr id="row0">
   <th class="bingocell bingohead"><h2>N</h2></th>
   <th class="bingocell bingohead"><h2>I</h2></th>
   <th class="bingocell bingohead"><h2>M</h2></th>
   <th class="bingocell bingohead"><h2>B</h2></th>
   <th class="bingocell bingohead"><h2>Y</h2></th>
  </tr>
  <tr>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
  </tr>
  <tr>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
  </tr>
  <tr>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell freesquare"><b>PARKING</b><br />(free space)</td>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
  </tr>
  <tr>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
  </tr>
  <tr>
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
   <td class="bingocell"></td> 
  </tr>
 </table>

 </div></div> <!-- actual cell/row -->
 <div class="row">
  <div class="twelve columns">&nbsp;</div>
 </div> <!-- row -->
</div>
</body>
</html>

